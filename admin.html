<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ניהול - שירותי+</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/admin.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <div class="header-content">
                <div class="logo">
                    <img src="/assets/logo.png" alt="שירותי+">
                    <span>שירותי+ - ניהול</span>
                </div>
                <div class="header-actions">
                    <span id="user-info"></span>
                    <button id="logout-button" class="logout-button">התנתק</button>
                </div>
            </div>
        </header>
        
        <main class="admin-main">
            <div class="admin-sidebar">
                <nav class="admin-nav">
                    <button class="nav-button active" data-section="services">שירותים</button>
                    <button class="nav-button" data-section="categories">קטגוריות</button>
                    <button class="nav-button" data-section="users">משתמשים</button>
                </nav>
            </div>
            
            <div class="admin-content">
                <div id="services-section" class="admin-section active">
                    <h2>ניהול שירותים</h2>
                    <div class="section-actions">
                        <button id="add-service" class="primary-button">הוסף שירות חדש</button>
                    </div>
                    <div id="services-list" class="list-container">
                        טוען...
                    </div>
                </div>
                
                <div id="categories-section" class="admin-section">
                    <h2>ניהול קטגוריות</h2>
                    <div class="section-actions">
                        <button id="add-category" class="primary-button">הוסף קטגוריה חדשה</button>
                    </div>
                    <div id="categories-list" class="list-container">
                        טוען...
                    </div>
                </div>
                
                <div id="users-section" class="admin-section">
                    <h2>ניהול משתמשים</h2>
                    <div id="users-list" class="list-container">
                        טוען...
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script type="module">
        import { AdminAuth } from './js/admin/AdminAuth.js';
        
        const adminAuth = new AdminAuth();
        const userInfo = document.getElementById('user-info');
        const logoutButton = document.getElementById('logout-button');
        
        // Handle navigation
        document.querySelectorAll('.nav-button').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and sections
                document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.admin-section').forEach(section => section.classList.remove('active'));
                
                // Add active class to clicked button and corresponding section
                button.classList.add('active');
                const sectionId = `${button.dataset.section}-section`;
                document.getElementById(sectionId).classList.add('active');
            });
        });
        
        // Handle logout
        logoutButton.addEventListener('click', () => {
            adminAuth.logout();
        });
        
        // Check authentication
        if (!adminAuth.currentUser) {
            window.location.href = '/login';
        } else {
            userInfo.textContent = `שלום ${adminAuth.currentUser.name}`;
        }
    </script>
</body>
</html> 